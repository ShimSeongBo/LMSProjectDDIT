<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace : xml파일은 여러개일 수 있음. 
이를 구별하기 위한 식별 용도로 사용 -->
<mapper namespace="kr.or.ddit.mapper.ApprovalMapper">


<!-- 결재요청 목록 -->
<!-- 결재자가 로그인한 관리자인 결재목록만 조회 -->
<select id="approvalList" parameterType="Approval" resultType="Approval">
	SELECT A.APPR_CD
		 , A.APPR_DT
		 , (SELECT COMD_NM FROM COMMON_DETAIL WHERE COMD_CD = A.APPR_YN ) APPR_YN
		 , A.APPR_RSN
		 , (SELECT COMD_NM FROM COMMON_DETAIL WHERE COMD_CD = A.APPR_CATE ) APPR_CATE
		 , (SELECT EP.EMP_NM FROM EMPLOYEE EP WHERE EP.EMP_NO = A.PRO_NO ) PRO_NM
		 , (SELECT EE.EMP_NM FROM EMPLOYEE EE WHERE EE.EMP_NO = A.EMP_NO ) EMP_NM
		 , APPR_SDT
	FROM APPROVAL A
	WHERE A.EMP_NO = #{empNo}
</select>

<!-- 상세 -->
<!-- 수정 -->
<!-- 입력 -->
<!-- 삭제 -->
</mapper>

